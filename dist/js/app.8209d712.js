(function(t){function e(e){for(var o,a,d=e[0],r=e[1],c=e[2],l=0,f=[];l<d.length;l++)a=d[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);u&&u(e);while(f.length)f.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,d=1;d<n.length;d++){var r=n[d];0!==i[r]&&(o=!1)}o&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},i={app:0},s=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var d=window["webpackJsonp"]=window["webpackJsonp"]||[],r=d.push.bind(d);d.push=e,d=d.slice();for(var c=0;c<d.length;c++)e(d[c]);var u=r;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"22d7":function(t,e,n){"use strict";var o=n("be87"),i=n.n(o);i.a},"3c9f":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),i=n("2f62"),s=n("bfa9"),a={state:{undo:[],redo:[]},mutations:{addActions:function(t,e){var n=e.action,o=e.undoObj,i=e.redoObj;t.undo=[],t.redo=[],t.undo.push({action:n,actual:!0,obj:o}),t.redo.push({action:n,actual:!1,obj:i})},inActiveUndo:function(t,e){t.undo[0].actual=!e,t.redo[0].actual=e},clearUndo:function(t){t.undo=[],t.redo=[]}},getters:{redoCount:function(t){return!(!t.redo.length||!t.redo[0].actual)},undoCount:function(t){return!(!t.undo.length||!t.undo[0].actual)},redoAction:function(t){return t.redo[0]},undoAction:function(t){return t.undo[0]}}},d=(n("7db0"),n("c740"),n("4160"),n("d81d"),n("a434"),n("b0c0"),n("a9e3"),n("d3b7"),n("25f0"),n("159b"),n("5530")),r=(n("96cf"),n("1da1")),c=function(t){return Math.random().toString(t).substring(2,8)},u={state:{notes:[],noteState:[]},actions:{fetchNotes:function(t,e){return Object(r["a"])(regeneratorRuntime.mark((function n(){var o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://api.fake.rest/189bf93b-4d78-4f00-86ac-76d87cfccbd1/task/list");case 2:return o=n.sent,n.next=5,o.json();case 5:i=n.sent,t.commit("updateNotes",{todosRes:i.data,name:e});case 7:case"end":return n.stop()}}),n)})))()}},mutations:{createCurrentState:function(t,e){t.noteState=[];var n=t.notes.findIndex((function(t){return t.id==e}));t.noteState.todos=[],t.noteState.id=t.notes[n].id,t.noteState.title=t.notes[n].title,t.notes[n].todos.forEach((function(e,o){t.noteState.todos.push(Object(d["a"])({},t.notes[n].todos[o]))}))},createTodo:function(t,e){var n=e.id,o=e.name,i={name:o},s=t.notes.findIndex((function(t){return t.id==n}));i["id"]=t.notes[s].todos[0].id.substring(0,24)+c(36)+c(36),i["isDone"]=!1,i["isDeleted"]=!1,t.notes[s].todos.push(i)},updateNotes:function(t,e){var n=e.todosRes,o=e.name,i={id:t.notes.length,title:o,todos:n.map((function(t){return Object(d["a"])(Object(d["a"])({},t),{},{isDeleted:!1})}))};t.notes.push(i)},undoTodos:function(t,e){var n=e.id,o=e.todoObj,i=t.notes.findIndex((function(t){return t.id==n})),s=t.notes[i].todos.findIndex((function(t){return t.id==o.obj.id}));t.notes[i].todos[s].name=o.obj.name,t.notes[i].todos[s].isDone=o.obj.isDone,t.notes[i].todos[s].isDeleted=o.obj.isDeleted},cancelEditing:function(t){var e=t.notes.findIndex((function(e){return e.id==t.noteState.id}));t.notes[e].title=t.noteState.title,t.notes[e].todos.forEach((function(e,n){e.name=t.noteState.todos[n].name,e.isDone=t.noteState.todos[n].isDone,e.isDeleted=t.noteState.todos[n].isDeleted}))},deleteTodo:function(t,e){var n=e.id,o=e.todoObj,i=t.notes.findIndex((function(t){return t.id==n}));t.notes[i].todos.find((function(t){return t.id===o.id})).isDeleted=!0},deleteNote:function(t,e){var n=t.notes.findIndex((function(t){return t.id==e}));t.notes.splice(n,1)}},getters:{allNotes:function(t){return t.notes},oneNote:function(t){return function(e){return t.notes.find((function(t){return t.id===Number(e)}))}},notesCount:function(t,e){return e.allNotes.length},noteStateCount:function(t,e){if(Array.isArray(t.noteState[e]))return!0}}};o["a"].use(i["a"]);var l=new s["a"]({storage:window.localStorage}),f=new i["a"].Store({modules:{undo:a,notes:u},plugins:[l.plugin]}),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("h1",{staticClass:"app-name"},[n("router-link",{staticClass:"link__home",attrs:{to:"/"},nativeOn:{click:function(e){return e.preventDefault(),t.handleOpenModal(e)}}},[t._v(" My Notes ")])],1),n("router-view")],1)},h=[],m={methods:{handleOpenModal:function(t){t.preventDefault(),this.$router.push("/",(function(){}))}}},p=m,v=n("2877"),_=Object(v["a"])(p,b,h,!1,null,null,null),g=_.exports,O=n("8c4f"),j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.allNotes,(function(e){return n("div",{key:e.id,staticClass:"note-area"},[n("div",{staticClass:"note-title"},[n("router-link",{attrs:{to:{name:"note",params:{id:e.id}}}},[t._v(" "+t._s(e.title)+" ")])],1),e.todos.length?n("TodoList",{attrs:{todos:e.todos,removable:!1,isSelectable:!1}}):n("p",[t._v("No todos!")])],1)})),n("button",{staticClass:"btn btn__geen",on:{click:function(e){return t.addNote()}}},[t._v("Add New Note")])],2)},C=[],N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ul",t._l(t.todoElements.slice(0,3),(function(e,o){return n("TodoItem",{key:e.id,attrs:{todo:e,index:o,removable:t.removable,isSelectable:t.isSelectable}})})),1)])},k=[],y=(n("4de4"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.todo.isDeleted?t._e():n("li",{staticClass:"todo__item",class:{done:t.todo.isDone}},[n("div",{class:{checkbox:t.removable}},[t.isSelectable?n("input",{attrs:{type:"checkbox"},domProps:{checked:t.todo.isDone},on:{change:t.changeDoneStatus}}):t._e(),t.edit?n("div",{staticClass:"todo__item--editable-area"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.name,expression:"todo.name"},{name:"focus",rawName:"v-focus"}],staticClass:"todo__item--editable-field",domProps:{value:t.todo.name},on:{blur:function(e){t.edit=!1},keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.edit=!1},change:t.submit,input:function(e){e.target.composing||t.$set(t.todo,"name",e.target.value)}}})]):n("div",{staticClass:"todo__item--name-area"},[t.isSelectable?n("label",{on:{click:function(e){return t.changeDoneStatus()}}},[n("span",{class:{done:t.todo.isDone}},[n("strong",[t._v(t._s(t.index+1)+".")]),t._v(" "+t._s(t.todo.name)+" ")])]):n("label",[n("span",[n("strong",[t._v(t._s(t.index+1)+".")]),t._v(" "+t._s(t.todo.name)+" ")])]),t.isSelectable?n("button",{staticClass:"bnt__edit",on:{click:function(e){t.edit=!0}}}):t._e(),t.isSelectable?n("button",{staticClass:"bnt__delete",on:{click:function(e){return t.deleteTodoElement(t.todo.id)}}}):t._e()])])])}),w=[],S={props:{todo:{type:Object,required:!0},removable:{type:Boolean,required:!0},isSelectable:{type:Boolean,required:!0},noteId:Number,index:Number},data:function(){return{todoSaved:{},edit:!1}},computed:{count:function(){return this.undoCount()}},watch:{count:{immediate:!0,handler:function(){this.saveTodo()}}},methods:Object(d["a"])(Object(d["a"])(Object(d["a"])({},Object(i["c"])(["undoCount"])),Object(i["d"])(["addActions","deleteTodo"])),{},{changeDoneStatus:function(){this.todo.isDone=!this.todo.isDone,this.submit()},deleteTodoElement:function(){this.deleteTodo({id:this.noteId,todoObj:this.todo}),this.submit()},saveTodo:function(){this.todoSaved=Object(d["a"])({},this.todo)},submit:function(){this.addActions({action:"todo",undoObj:Object(d["a"])({},this.todoSaved),redoObj:Object(d["a"])({},this.todo)}),this.saveTodo()}}),directives:{focus:{inserted:function(t){t.focus()}}},mounted:function(){this.saveTodo()}},x=S,T=(n("ebcb"),Object(v["a"])(x,y,w,!1,null,"8edc862c",null)),D=T.exports,E={props:["todos","removable","isSelectable"],components:{TodoItem:D},computed:{todoElements:function(){return this.todos.filter((function(t){return!t.isDeleted}))}}},A=E,M=Object(v["a"])(A,N,k,!1,null,null,null),$=M.exports,I={computed:Object(i["c"])(["allNotes","notesCount"]),methods:Object(d["a"])(Object(d["a"])({},Object(i["b"])(["addNotes","fetchNotes"])),{},{addNote:function(){this.fetchNotes("New Task")}}),components:{TodoList:$},mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.notesCount||(t.fetchNotes("First task"),t.fetchNotes("Second task"));case 1:case"end":return e.stop()}}),e)})))()}},U=I,P=Object(v["a"])(U,j,C,!1,null,null,null),R=P.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"note"},[n("h2",{staticClass:"note-name"},[t.edit?n("input",{directives:[{name:"model",rawName:"v-model",value:t.thisNote.title,expression:"thisNote.title"},{name:"focus",rawName:"v-focus"}],staticClass:"noteInput",domProps:{value:t.thisNote.title},on:{blur:function(e){t.edit=!1},keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.edit=!1},input:function(e){e.target.composing||t.$set(t.thisNote,"title",e.target.value)}}}):n("span",[n("label",{on:{click:function(e){t.edit=!0}}},[t._v(t._s(t.thisNote.title))])])]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newTodo,expression:"newTodo"}],staticClass:"field__newtodo",attrs:{autofocus:"",autocomplete:"off",placeholder:"Add your todo here..."},domProps:{value:t.newTodo},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTodo(e)},input:function(e){e.target.composing||(t.newTodo=e.target.value)}}}),n("ul",{staticClass:"note__todos"},t._l(t.todoElements,(function(e,o){return n("TodoItem",{key:e.id,attrs:{todo:e,index:o,removable:!0,isSelectable:!0,noteId:Number(t.$route.params.id)}})})),1),n("button",{staticClass:"btn",class:{btn__geen:t.isRedo},attrs:{disabled:!t.isRedo},on:{click:function(e){return t.redo()}}},[t._v("⮎ Redo")]),n("button",{staticClass:"btn",class:{btn__geen:t.isUndo},attrs:{disabled:!t.isUndo},on:{click:function(e){return t.undo()}}},[t._v("Undo ⮌")]),n("button",{staticClass:"btn",class:{btn__red:t.isCancelled},attrs:{disabled:!t.isCancelled},on:{click:function(e){return t.cancelEditingNote()}}},[t._v("Cancel")]),n("button",{staticClass:"btn btn__geen",on:{click:function(e){return t.saveNote()}}},[t._v("Save ⭐")]),n("button",{staticClass:"btn btn__red",on:{click:function(e){return t.openModal()}}},[t._v("Delete 😲")]),t.showModal?n("Modal",{on:{deleteNote:function(e){return t.deleteNoteElement()},close:function(e){t.showModal=!1}}}):t._e()],1)},B=[],J=(n("498a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v--modal-overlay",attrs:{"aria-expanded":"true","data-modal":"dialog"}},[n("div",{staticClass:"v--modal-background-click"},[n("div",{staticClass:"v--modal-box v--modal vue-dialog"},[t._m(0),n("div",{staticClass:"vue-dialog-buttons"},[n("button",{staticClass:"vue-dialog-button",on:{click:function(e){return t.$emit("close")}}},[t._v("Cancel")]),n("button",{staticClass:"vue-dialog-button",on:{click:function(e){return t.$emit("deleteNote")}}},[t._v("Delete")])])])])])}),L=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog-content"},[n("div",{staticClass:"dialog-c-title"},[t._v("Delete this note?")]),n("div",{staticClass:"dialog-c-text"},[t._v("After deleting the note, you can't restore it.")])])}],F={data:function(){return{showModal:!0}}},z=F,G=(n("22d7"),Object(v["a"])(z,J,L,!1,null,null,null)),H=G.exports,K={props:["todos"],data:function(){return{id:Number(this.$route.params.id),edit:!1,newTodo:"",showModal:!1}},computed:Object(d["a"])(Object(d["a"])({},Object(i["c"])(["oneNote"])),{},{todoElements:function(){return this.thisNote.todos.filter((function(t){return!t.isDeleted}))},thisNote:function(){return this.oneNote(this.$route.params.id)},isRedo:function(){return this.redoCount()},isUndo:function(){return this.undoCount()},isCancelled:function(){return this.undoCount()||this.redoCount()}}),components:{TodoItem:D,Modal:H},methods:Object(d["a"])(Object(d["a"])(Object(d["a"])({},Object(i["c"])(["noteStateCount","redoAction","undoAction","redoCount","undoCount"])),Object(i["d"])(["createTodo","createCurrentState","undoTodos","inActiveUndo","clearUndo","cancelEditing","deleteNote"])),{},{addTodo:function(){var t=this.newTodo&&this.newTodo.trim();!t||t.length<2||(this.createTodo({id:this.id,name:t}),this.newTodo="")},saveNote:function(){console.log("Saved!")},redo:function(){this.undoTodos({id:this.id,todoObj:this.redoAction()}),this.inActiveUndo(!1)},undo:function(){this.undoTodos({id:this.id,todoObj:this.undoAction()}),this.inActiveUndo(!0)},cancelEditingNote:function(){this.clearUndo(),this.cancelEditing()},openModal:function(){this.showModal=!0},deleteNoteElement:function(){this.deleteNote(this.id),this.$router.push("/",(function(){}))}}),directives:{focus:{inserted:function(t){t.focus()}}},mounted:function(){this.clearUndo(),this.createCurrentState(this.id)}},Q=K,V=Object(v["a"])(Q,q,B,!1,null,null,null),W=V.exports;o["a"].use(O["a"]);var X=new O["a"]({mode:"history",routes:[{path:"/",component:R},{name:"note",path:"/note/:id",component:W}]});n("6672");o["a"].config.productionTip=!1,new o["a"]({store:f,router:X,render:function(t){return t(g)}}).$mount("#app")},6672:function(t,e,n){},be87:function(t,e,n){},ebcb:function(t,e,n){"use strict";var o=n("3c9f"),i=n.n(o);i.a}});
//# sourceMappingURL=app.8209d712.js.map